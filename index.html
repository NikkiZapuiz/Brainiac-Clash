<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brainiac Clash</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        .container {
            width: 80%;
            max-width: 400px;
            height: 200px;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
            position: relative;
        }

        #logo-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 8vw;
            font-weight: bold;
            color: #333;
        }

        #logo-text span {
            display: inline-block;
            opacity: 0;
            animation-name: zoomDrop;
            animation-duration: 3s;
            animation-timing-function: ease-in-out;
            animation-fill-mode: forwards;
            animation-iteration-count: infinite;
        }


        @keyframes zoomDrop {
            0% {
                transform: scale(0.1) translateY(-100px);
                opacity: 0;
            }

            50% {
                transform: scale(1.2) translateY(0);
                opacity: 1;
            }

            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        #logo-text span:nth-child(1) {
            animation-delay: 0.1s;
        }

        #logo-text span:nth-child(2) {
            animation-delay: 0.2s;
        }

        #logo-text span:nth-child(3) {
            animation-delay: 0.3s;
        }

        #logo-text span:nth-child(4) {
            animation-delay: 0.4s;
        }

        #logo-text span:nth-child(5) {
            animation-delay: 0.5s;
        }

        #logo-text span:nth-child(6) {
            animation-delay: 0.6s;
        }

        #logo-text span:nth-child(7) {
            animation-delay: 0.7s;
        }

        #logo-text span:nth-child(8) {
            animation-delay: 0.8s;
        }

        #logo-text span:nth-child(10) {
            animation-delay: 0.9s;
        }

        #logo-text span:nth-child(11) {
            animation-delay: 1s;
        }

        #logo-text span:nth-child(12) {
            animation-delay: 1.1s;
        }

        #logo-text span:nth-child(13) {
            animation-delay: 1.2s;
        }

        #logo-text span:nth-child(14) {
            animation-delay: 1.3s;
        }

        #logo-text span:nth-child(15) {
            animation-delay: 1.4s;
        }

        #logo-text span:nth-child(16) {
            animation-delay: 1.5s;
        }


        #start-button {
            padding: 10px 20px;
            font-size: 4vw;
            background-color: #f2f2f2;
            color: #333;
            border: none;
            border-radius: 50px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }

        #description {
            margin-top: 20px;
            margin-left: 50px;
        }

        #categoryBtn-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: -170px;
        }

        .category-button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #f2f2f2;
            color: #333;
            border: none;
            border-radius: 50px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            margin-top: 10px;
        }

        #start-button:hover {
            background-color: #007bff;
            color: #fff;
        }

        #user-name {
            border-radius: 5%;
            border: none;
            color: #333;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }



        #game-timer {
            border-radius: 50%;
            border: 1px solid black;
            padding: 10px;
        }

        #question-container {
            margin: 50px auto;
            max-width: 500px;
        }

        #game-choices {
            list-style-type: none;
            padding: 0;
            align-items: center;
            display: flex;
            flex-direction: column;
        }


        #game-choices li {
            margin: 10px;
        }

        #next-question {
            margin-top: 20px;
        }

        #result-container {
            display: none;
            margin-top: 50px;
        }

        #result {
            font-weight: bold;
        }

        #correct-answer {
            margin-top: 10px;
        }

        button {
            width: 150px;
            height: 50px;
            border-radius: 5%;
            border: none;
            cursor: pointer;
        }

        /* 
        button:hover {
            background-color: rgb(84, 188, 236);
            color: #fff;
        } */

        /* Responsiveness*/

        @media (min-width: 600px) {
            #logo-text {
                font-size: 40px;
            }

            #start-button {
                font-size: 16px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div id="description"></div>
        <div id="logo-text">
            <span>B</span>
            <span>r</span>
            <span>a</span>
            <span>i</span>
            <span>n</span>
            <span>i</span>
            <span>a</span>
            <span>c</span>
            <span> </span>
            &nbsp;
            <span>C</span>
            <span>l</span>
            <span>a</span>
            <span>s</span>
            <span>h</span>
        </div>
    </div>

    <br />
    <input type="text" placeholder="Your Name" id="user-name" required />
    <br />
    <button id="start-button">Start</button>
    <div id="categoryBtn-container">
        <button class="category-button" id="easy-button">Easy</button>
        <button class="category-button" id="medium">Medium</button>
        <button class="category-button" id="hard">Hard</button>
    </div>

    <div id="game-timer"></div>

    <div id="question-container">
        <div id="questioner"></div>
        <ul id="game-choices"></ul>
    </div>
    <div id="result-container">
        <p id="result"></p>
        <button id="next-question">Next Question</button>
    </div>

    <script>
        const logoText = document.querySelector('#logo-text');
        const playerInput = document.querySelector("#user-name");
        const startButton = document.querySelector("#start-button");
        const descriptionDisplay = document.querySelector('#description');
        const categoryButton = document.querySelector('#categoryBtn-container');
        const easyButton = document.querySelector('#easy-button');
        const gameTimer = document.querySelector('#game-timer');
        const gameQuestioner = document.querySelector('#questioner');
        const gameChoices = document.querySelector('#game-choices');
        const nextQuestionButton = document.querySelector('#next-question');
        const resultElement = document.querySelector('#result');
        const questionContainer = document.querySelector('#question-container');
        const resultContainer = document.querySelector('#result-container');

        gameTimer.style.display = 'none';
        questionContainer.style.display = 'none';
        resultContainer.style.display = 'none';
        categoryButton.style.display = 'none';
        startButton.addEventListener('click', startGame);

        let playerName;
        let currentQuestion;
        let choices;
        let correctAnswer;
        let isGameActive = false;

        function startGame() {
            playerName = playerInput.value;
            if (playerName === '') {
                alert('Name required!');
                return;
            };

            logoText.style.display = 'none';
            playerInput.style.display = 'none';
            startButton.style.display = 'none';
            descriptionDisplay.innerHTML = `Hi ${playerName} Please Choose Category:`;
            categoryButton.style.display = '';
            isGameActive = true;
            category();
        }

        function category() {
            easyButton.addEventListener('click', showQuestionEasy);
        }

        let timerCount = 15;
        let timer;

        const decrementTimer = () => {
            if (timerCount === 0) {
                clearInterval(timer);
            }

            gameTimer.textContent = timerCount;
            timerCount--;
        };

        timer = setInterval(decrementTimer, 1000);

        function showQuestionEasy() {
            fetch('https://opentdb.com/api.php?amount=1&category=9&difficulty=easy&type=multiple')
                .then((res) => {
                    if (res.ok) {
                        return res.json();
                    } else {
                        throw new Error('Unable to fetch question data.');
                    }
                })
                .then((data) => {
                    const questionData = data.results[0];
                    currentQuestion = decodeHtmlEntities(questionData.question);
                    correctAnswer = decodeHtmlEntities(questionData.correct_answer);
                    choices = questionData.incorrect_answers.map(answer => decodeHtmlEntities(answer)).concat(correctAnswer);

                    gameQuestioner.textContent = currentQuestion;
                    gameChoices.innerHTML = '';

                    for (let i = 0; i < choices.length; i++) {
                        const choice = choices[i];
                        const listItem = document.createElement('li');
                        const choiceButton = document.createElement('button');
                        choiceButton.textContent = choice;
                        choiceButton.addEventListener('click', selectChoice);
                        gameChoices.appendChild(listItem);
                        listItem.appendChild(choiceButton);
                    }
                })
                .catch((error) => {
                    console.error(error);
                });
        }

        // Function to decode HTML entities
        function decodeHtmlEntities(text) {
            const entityElement = document.createElement('textarea');
            entityElement.innerHTML = text;
            return entityElement.value;
        }

        // Show result container and hide question container
        function showResultContainer() {
            questionContainer.style.display = 'none';
            resultContainer.style.display = 'block';
        }

        // Select choice function
        function selectChoice() {
            const selectedChoice = this.textContent;
            checkAnswer(selectedChoice);
        }

        // Check answer and display the result
        function checkAnswer(userAnswer) {
            const choiceButtons = gameChoices.getElementsByTagName('button');

            for (let i = 0; i < choiceButtons.length; i++) {
                const choiceButton = choiceButtons[i];
            }

            if (userAnswer === correctAnswer) {
                resultElement.textContent = "Correct!";
            } else {
                resultElement.textContent = "Incorrect!";
            }

            showResultContainer();
        }

        // Next question button click handler
        function nextQuestion() {
            showQuestionEasy();
        }

        // Event listener
        nextQuestionButton.addEventListener('click', nextQuestion);

        // Initial question
        showQuestionEasy();





        // fetch('https://opentdb.com/api.php?amount=20&category=9&difficulty=medium&type=multiple')
        //     .then((res) => {
        //         if (res.ok) {
        //             return res.json();
        //         } else {
        //             console.log('error')
        //         }
        //     }).then((data) => {
        //         const res = data.difficulty;
        //     })
        // fetch('https://opentdb.com/api.php?amount=20&category=9&difficulty=hard&type=multiple')
        //     .then((res) => {
        //         if (res.ok) {
        //             return res.json();
        //         } else {
        //             console.log('error')
        //         }
        //     }).then((data) => {
        //         const res = data.difficulty;
        //     })

    </script>
</body>

</html>